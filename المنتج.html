<!DOCTYPE html>
<html lang="ar">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tatbela - ุชุชุจููุฉ</title>
    <link rel="shortcut icon" href="assets/imgs/tatbelalogo.svg" type="image/x-icon">

    <meta name="description" content="ูุทุนู ุชุชุจููุฉ ,ูููู ุงููุฑูุจ ูู ูุตุฑ๐๐ฅ">

    <meta name="keywords"
        content="ูุฑูุจ ุณูุฏ , ูุทุนู ุชุชุจููุฉ , ุชุชุจููุฉ , ุณููุจุฑ , ูุญูุฏ ุณููุจุฑ , ูุญูุฏ ุณูุฏ ุณููุจุฑ , ูุตุฑ , ุงูุฒุงููุฉ ุงูุญูุฑุก , ุชุชุจููุฉ ุงูุฒุงููุฉ ุงูุญูุฑุงุก , Tatbela , Mohamed Sayed , Mohamed Skepr , Mohamed Sayed Skepr , Mohamed Sayed AbdElalem ,iskrpr , itskepr, qwsdxccc">
    <meta name="author" content="Mohamed Sayed , mohamed sayed skepr, skepr , ูุญูุฏ ุณูุฏ , ุณููุจุฑ ,ูุญูุฏ ุณูุฏ ุนุจุฏุงูุนููู">

    <meta property="og:image" content="assets/imgs/Screenshot.png">
    <meta property="twitter:image" content="assets/imgs/Screenshot.png">
    <!-- style -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="css/aos.css" />
</head>

<body>
    <div id="preloader">
        <img src="assets/imgs/tatbelalogo.svg" alt="tatbela logo skepr"><br>
        <a class="power" href="iskepr.web.app">ุชู ุจุฑูุฌุฉ ุงููููุน ุจูุงุณุทุฉ <span>@ุณููุจุฑ</span></a>
    </div>
    <header>
        <a href="ุงูููููู.html">
            <div class="but">
                <div class="icon">
                    <img src="assets/imgs/menuicon.svg" alt="">
                </div>
                <h3>ุงูููููู</h3>
            </div>
        </a>
        <div class="logo">
            <a href="index.html"><img src="assets/imgs/tatbelalogo.svg" alt="Tatbela logo"></a>
        </div>
        <a href="ุงูุณูุฉ.html">
            <div class="but">
                <div class="icon">
                    <img src="assets/imgs/carticon.svg" alt="">
                </div>
                <h3>ุงูุณูุฉ</h3>
            </div>
        </a>
    </header>
    <!-- product -->
    <div class="oneproduct">
        <div class="product">
            <img id="product-image" src="" alt="ุตูุฑุฉ ุงูููุชุฌ">
            <div class="detals">
                <h1 id="product-name"></h1>
                <h2 id="product-description"></h2>
                <h3 style="display: flex;justify-content: center;">
                    <p id="product-ingredients"></p>&nbsp;<span>:ุงูููููุงุช</span>
                </h3>
                <h2><span id="product-price"></span> ุฌููุฉ</h2>
                <button class="mainbut" onclick="addtocart()">ุงุถู ุงูู ุงูุณูุฉ</button>
            </div>
        </div>
    </div>
    <!-- most seel -->
    <section class="scrollprod" data-aos="fade-up">
        <img class="logoframe" src="assets/imgs/logoframe.svg" alt="">
        <div class="top">
            <div class="text">
                <h2>ูุฌุจุงุช ููุดุงุจูุฉ</h2>
                <h3>ุงูุงูุซุฑ ูุจูุนุงู</h3>
            </div>
            <a href="ุงูููููู.html" class="mainbut">ุงููุฒูุฏ</a>
        </div>
        <div class="products"></div>
    </section>
    <!-- footer -->
    <footer>
        <div class="detal">
            <div class="hotbut">
                <h2><span>Hotline</span></h2>
                <h3>
                    <a href="tel:01100643437">01100643437</a>
                    <span>:</span>
                    <a href="tel:01091909186">01091909186</a>
                </h3>
            </div>
            <div class="addres">
                <p> <span>ุญุฏุงุฆู ุงููุจุฉ:</span>
                    123 ุดุงุฑุน ูุตุฑ ูุงูุณูุฏุงู ุจุฌูุงุฑ ุงูุจูู ุงูุฃููู
                    <br>
                    <span>ุงูุฒุงููุฉ ุงูุญูุฑุงุก:</span>
                    ุดุงุฑุน ุงูุณูู ุงูุชุฌุงุฑู ุงูุงู ูุณุฌุฏ ุงูุดูุฎ ุนุจูุฏ, ุฃูู ุงูุฒุงููุฉ
                </p>
            </div>
        </div>
        <br>
        <div class="links">
            <a href="https://www.facebook.com/tatbelarestaurant"><img src="assets/imgs/facebook.png"
                    alt="facebook tatbela"></a>
            <a href="https://www.instagram.com/tatbela_restaurant"><img src="assets/imgs/instagram.png"
                    alt="instagram tatbela"></a>
        </div>
        <a class="power" href="https://iskepr.web.app">ุชู ุจุฑูุฌุฉ ุงููููุน ุจูุงุณุทุฉ <span>@ุณููุจุฑ</span>
    </footer>

    <script src="main.js"></script>
    <script src="js/aos.js"></script>
    <script src="js/jquery-3.7.1.min.js"></script>
    <script>
        AOS.init();

        // ูุฑุงุกุฉ ุงููุนุฑู ูู ุงูุฑุงุจุท
        const urlParams = new URLSearchParams(window.location.search);
        const productId = urlParams.get('ุงููุนุฑู');

        // ุชุญููู ุจูุงูุงุช ุงูููุชุฌุงุช
        fetch('data/products.json')
            .then(response => response.json())
            .then(data => {
                // ุงูุชุญูู ูู ูุฌูุฏ ุงูููุชุฌ
                if (data[productId - 1]) {
                    const product = data[productId - 1];

                    // ุชุญุฏูุซ ูุญุชููุงุช ุงูุตูุญุฉ ุจุงูุจูุงูุงุช
                    document.getElementById('product-image').src = product.ุงูุตูุฑุฉ;
                    document.getElementById('product-name').textContent = product.ุงูุงุณู;
                    document.getElementById('product-description').textContent = product.ูุตู;
                    document.getElementById('product-ingredients').textContent = product.ุงูููููุงุช;
                    document.getElementById('product-price').textContent = product.ุงูุณุนุฑ;

                    // ุงุญุตู ุนูู ููุน ุงูููุชุฌ
                    const productType = product.ุงูููุน;

                    // ุชุตููุฉ ุงูููุชุฌุงุช ุจูุงุกู ุนูู ุงูููุน
                    const sameTypeProducts = data.filter(item => item.ุงูููุน === productType && item.ุงููุนุฑู != product.ุงููุนุฑู);


                    // ุชุฃูุฏ ูู ุฃู ุงูุนูุตุฑ products ููุฌูุฏ
                    if (sameTypeProducts.length === 0) {
                        let scroll = document.querySelector(".scrollprod");
                        scroll.style.display = "none";
                        return;
                    }

                    // ุนุฑุถ ุงูููุชุฌุงุช ุงูุชู ูู ููุณ ุงูููุน
                    $.each(sameTypeProducts, function (index, sameProduct) {
                        $(".products")
                            .append(
                                `<a href="ุงูููุชุฌ.html?ุงููุนุฑู=` + sameProduct.ุงููุนุฑู + `">
                            <div class="product" id="product-` + sameProduct.ุงููุนุฑู + `">
                                <img src="` + sameProduct.ุงูุตูุฑุฉ + `" alt="` + sameProduct.ุงูุงุณู + ` tatbela">
                                <div class="detals">
                                    <h2><span>` + sameProduct.ุงูุงุณู + `</span></h2>
                                    <h4>` + sameProduct.ูุตู + `</h4>
                                    <h2><span>` + sameProduct.ุงูุณุนุฑ + `</span> ุฌููุฉ</h2>
                                </div>
                            </div>
                        </a>`
                            );
                    });
                } else {
                    alert("ุงูููุชุฌ ุบูุฑ ููุฌูุฏ");
                }
            })
            .catch(error => {
                console.error("ุญุฏุซ ุฎุทุฃ ูู ุชุญููู ุงูุจูุงูุงุช", error);
            });

        // ุนูุฏ ุงูุถุบุท ุนูู ุฒุฑ "ุฃุถู ุฅูู ุงูุณูุฉ"
        function addtocart() {

            // ุงุณุชุฑุฌุงุน ุจูุงูุงุช ุงูููุชุฌ ูู ุงูุตูุญุฉ
            const productId = urlParams.get('ุงููุนุฑู');
            const productName = document.getElementById('product-name').textContent;
            const productPrice = document.getElementById('product-price').textContent;
            const productImage = document.getElementById('product-image').src;

            // ูููู ุงูููุชุฌ
            const product = {
                id: productId,
                name: productName,
                price: productPrice,
                image: productImage,
                quantity: 1 // ูููู ุชุบููุฑ ุงููููุฉ ุจูุงุกู ุนูู ูุชุทูุจุงุชู
            };

            // ุงุณุชุฑุฌุงุน ุงูุณูุฉ ุงูุญุงููุฉ ูู localStorage
            let cart = localStorage.getItem('cart');
            cart = cart ? JSON.parse(cart) : [];

            // ุงูุจุญุซ ุนู ุงูููุชุฌ ูู ุงูุณูุฉ ุจูุงุกู ุนูู id
            const existingProductIndex = cart.findIndex(item => item.id === productId);

            if (existingProductIndex !== -1) {
                // ุฅุฐุง ูุงู ุงูููุชุฌ ููุฌูุฏ ุจุงููุนูุ ุฒูุงุฏุฉ ุงููููุฉ
                cart[existingProductIndex].quantity += 1;
            } else {
                // ุฅุฐุง ูู ููู ููุฌูุฏุ ุฃุถูู ููุณูุฉ
                cart.push(product);
            }

            // ุชุญุฏูุซ ุงูุณูุฉ ูู localStorage
            localStorage.setItem('cart', JSON.stringify(cart));

            // alert('ุชูุช ุฅุถุงูุฉ ุงูููุชุฌ ุฅูู ุงูุณูุฉ!');
        }
    </script>
</body>

</html>